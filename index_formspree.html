<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Shekhinah - Formulário com Formspree</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: Poppins, system-ui, -apple-system, Segoe UI, Roboto, Arial,
          sans-serif;
        background: #f6f9ff;
        margin: 0;
        color: #0f172a;
      }
      .wrap {
        max-width: 960px;
        margin: 40px auto;
        padding: 24px;
      }
      h1 {
        margin: 0 0 8px;
      }
      .card {
        background: #fff;
        border-radius: 14px;
        box-shadow: 0 10px 26px rgba(2, 34, 82, 0.08);
        padding: 20px;
      }
      form {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 14px;
      }
      form input,
      form select,
      form textarea {
        width: 100%;
        padding: 12px 14px;
        border: 1px solid #cbd5e1;
        border-radius: 10px;
        font-size: 16px;
      }
      form textarea {
        grid-column: 1/-1;
        min-height: 120px;
        resize: vertical;
      }
      .row-full {
        grid-column: 1/-1;
      }
      button {
        background: #0d47a1;
        color: #fff;
        border: 0;
        border-radius: 12px;
        padding: 12px 18px;
        font-weight: 600;
        cursor: pointer;
      }
      button[disabled] {
        opacity: 0.6;
        cursor: not-allowed;
      }
      .status {
        margin-top: 12px;
        font-size: 14px;
      }
      .status.ok {
        color: #0a8f3a;
      }
      .status.err {
        color: #b71c1c;
      }
      .actions {
        display: flex;
        gap: 10px;
        align-items: center;
      }
      .muted {
        color: #64748b;
        font-size: 14px;
      }
      .hide {
        display: none;
      }
      .success-box {
        background: #ecfdf5;
        border: 1px solid #34d39944;
        color: #065f46;
        padding: 16px;
        border-radius: 12px;
      }
      .success-actions {
        margin-top: 12px;
        display: flex;
        gap: 10px;
      }
      .link {
        background: #fff;
        color: #0d47a1;
        border: 1px solid #0d47a133;
      }
    </style>
  </head>
  <body>
    <div class="wrap">
      <h1>Contato — Shekhinah</h1>
      <p class="muted">
        Exemplo funcional integrado ao Formspree. Submete sem recarregar a
        página.
      </p>

      <div class="card">
        <!-- Substitua FORM_ID pelo ID real do seu formulário do Formspree -->
        <form id="contatoForm" class="contato-form" autocomplete="on">
          <input type="hidden" id="formspreeId" value="xkgzkvql" />

          <input
            type="text"
            name="nome"
            id="nome"
            placeholder="Seu Nome"
            required
          />
          <input
            type="email"
            name="email"
            id="email"
            placeholder="Seu Email"
            required
          />
          <input
            type="tel"
            name="telefone"
            id="telefone"
            placeholder="Seu Telefone"
            class="row-full"
            required
          />
          <select name="produto" id="produto" required>
            <option value="">Produto de Interesse</option>
            <option value="sofa-retratil">Sofá Retrátil</option>
            <option value="puff-bau">Puff Baú</option>
            <option value="bau-decorativo">Baú Decorativo</option>
            <option value="sob-encomenda">Sob Encomenda</option>
            <option value="orcamento">Orçamento Geral</option>
          </select>
          <textarea
            name="mensagem"
            id="mensagem"
            placeholder="Sua Mensagem"
            required
          ></textarea>

          <!-- Campos auxiliares -->
          <input
            type="text"
            name="_honey"
            class="hide"
            tabindex="-1"
            autocomplete="off"
          />
          <input
            type="hidden"
            name="_subject"
            value="Novo contato — Site Shekhinah"
          />
          <input type="hidden" name="_captcha" value="false" />

          <div class="actions row-full">
            <button id="btnEnviar" type="submit">Enviar Mensagem</button>
            <span id="status" class="status"></span>
          </div>

          <div id="success" class="row-full success-box hide">
            <strong>Mensagem enviada! ✅</strong>
            <div class="muted">
              Obrigado pelo contato. Em breve retornaremos.
            </div>
            <div class="success-actions">
              <button type="button" class="link" id="btnVoltar">
                Voltar ao formulário
              </button>
              <a class="link" href="#contato">Ir para a seção de contato</a>
            </div>
          </div>
        </form>
      </div>
    </div>

    <script>
      (function () {
        const form = document.getElementById("contatoForm");
        const btn = document.getElementById("btnEnviar");
        const statusEl = document.getElementById("status");
        const okBox = document.getElementById("success");
        const backBtn = document.getElementById("btnVoltar");
        const formspreeId = document.getElementById("formspreeId").value.trim();

        function setStatus(msg, ok = false) {
          statusEl.textContent = msg || "";
          statusEl.className = "status " + (ok ? "ok" : msg ? "err" : "");
        }

        function toggleSuccess(show) {
          okBox.classList.toggle("hide", !show);
        }

        backBtn.addEventListener("click", () => {
          toggleSuccess(false);
          setStatus("");
          form.reset();
          document.getElementById("nome").focus();
        });

        form.addEventListener("submit", async (e) => {
          e.preventDefault();
          if (!formspreeId || formspreeId === "FORM_ID") {
            setStatus("Configure o ID do Formspree no campo oculto.", false);
            return;
          }
          setStatus("Enviando...");
          btn.disabled = true;

          const data = new FormData(form);
          try {
            const res = await fetch(`https://formspree.io/f/${formspreeId}`, {
              method: "POST",
              headers: { Accept: "application/json" },
              body: data,
            });
            const json = await res.json();
            if (res.ok) {
              setStatus("");
              toggleSuccess(true);
            } else {
              const msg =
                (json &&
                  json.errors &&
                  json.errors[0] &&
                  json.errors[0].message) ||
                "Erro ao enviar. Tente novamente.";
              setStatus(msg, false);
            }
          } catch (err) {
            setStatus("Falha de rede. Verifique sua conexão.", false);
          } finally {
            btn.disabled = false;
          }
        });
      })();
    </script>
  </body>
</html>
